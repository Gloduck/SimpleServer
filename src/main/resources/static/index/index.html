<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工具导航</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.4.31/vue.global.prod.js"></script>

    <!-- 引入公共JS -->
    <script src="/static/js/common.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#249ffd',
                        secondary: '#1a88e8',
                        neutral: '#f0f4f8',
                        dark: '#1e293b'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <style>
        .gradient-text {
            background: linear-gradient(45deg, #249ffd, #31a3fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-gray-100 font-sans text-dark min-h-screen">
    <div id="app">
        <!-- 页面容器 -->
        <div class="min-h-screen flex flex-col">
            <!-- 头部 -->
            <common-header title="工具导航" icon="fas fa-tools" link="/">
                <template #right>
                    常用小工具集合
                </template>
            </common-header>

            <!-- 主内容区 -->
            <main class="flex-grow container mx-auto px-4 py-8">
                <!-- 搜索区域 -->
                <div class="max-w-3xl mx-auto mb-12">
                    <div class="relative">
                        <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"></i>
                        <input type="text" v-model="searchKeyword" placeholder="搜索工具名称、描述或分类..."
                            class="w-full pl-12 pr-4 py-4 rounded-xl border border-gray-300 focus:border-primary focus:ring-4 focus:ring-primary/20 outline-none transition-all shadow-lg bg-white/80">
                        <div v-if="searchKeyword" class="absolute right-4 top-1/2 -translate-y-1/2">
                            <button @click="searchKeyword = ''"
                                class="text-gray-400 hover:text-gray-600 transition-colors">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mt-2 ml-1">
                        共 {{ filteredTools.length }} 个工具 {{ searchKeyword ? `(搜索到 ${filteredTools.length} 个结果)` : '' }}
                    </p>
                </div>

                <!-- 工具分类筛选 -->
                <div class="max-w-6xl mx-auto mb-8">
                    <div class="flex flex-wrap gap-2">
                        <button v-for="category in categories" :key="category" @click="toggleCategory(category)" :class="[
                                'px-4 py-2 rounded-full transition-all duration-300 flex items-center gap-2',
                                selectedCategories.includes(category) 
                                    ? 'bg-primary text-white shadow-md' 
                                    : 'bg-white text-gray-700 hover:bg-gray-100 shadow'
                            ]">
                            <i :class="getCategoryIcon(category)"></i>
                            <span>{{ category }}</span>
                            <span v-if="selectedCategories.includes(category)" class="text-xs opacity-90">
                                <i class="fas fa-check"></i>
                            </span>
                        </button>
                    </div>
                </div>

                <!-- 工具卡片区域 -->
                <div class="max-w-7xl mx-auto">
                    <!-- 工具卡片网格 -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                        <!-- 工具卡片 -->
                        <div v-for="tool in filteredTools" :key="tool.id"
                            class="bg-white rounded-2xl overflow-hidden shadow-lg card-hover fade-in">
                            <!-- 卡片头部（颜色条） -->
                            <div class="h-2" :style="{ backgroundColor: getCategoryColor(tool.category) }"></div>

                            <!-- 卡片内容 -->
                            <div class="p-6 flex flex-col h-full">
                                <!-- 工具图标和名称 -->
                                <div class="flex items-start gap-4 mb-4">
                                    <div class="w-12 h-12 rounded-xl flex items-center justify-center text-white text-xl"
                                        :style="{ backgroundColor: getCategoryColor(tool.category) }">
                                        <i :class="getCategoryIcon(tool.category)"></i>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <h3 class="font-bold text-gray-800 text-lg truncate">{{ tool.name }}</h3>
                                        <div class="flex items-center gap-2 mt-1">
                                            <span class="px-3 py-1 rounded-full text-xs font-medium" :style="{ 
                                                    backgroundColor: getCategoryColor(tool.category) + '20',
                                                    color: getCategoryColor(tool.category) 
                                                }">
                                                {{ tool.category }}
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <!-- 工具描述 -->
                                <p class="text-gray-600 mb-6 flex-grow">{{ tool.desc }}</p>

                                <!-- 卡片底部 -->
                                <div class="flex justify-between items-center pt-4 border-t border-gray-100">
                                    <a :href="tool.href"
                                        class="text-primary hover:text-secondary font-medium flex items-center gap-2 transition-colors">
                                        <span>立即使用</span>
                                        <i class="fas fa-arrow-right text-sm"></i>
                                    </a>
                                    <a :href="tool.href" target="_blank"
                                        class="text-primary hover:text-secondary font-medium flex items-center gap-2 transition-colors">
                                        <div class="text-gray-400 text-sm">
                                            <i class="fas fa-external-link-alt"></i>
                                        </div>
                                    </a>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </main>

            <!-- 页脚 -->
            <common-footer description="常用小工具集合，请勿用于非法用途" copyright="© 2025 Gloduck"
                :links="[{ icon: 'fab fa-github', url: 'https://github.com/Gloduck', name: 'Github' },{ icon: 'fas fa-blog', url: 'https://mxecy.cn', name: 'Blog' }]"></common-footer>
        </div>
    </div>

    <script>
        const { createApp, ref, computed, onMounted, onUnmounted } = Vue;

        const app = createApp({
            components: {
                'common-header': CommonComponents.Header,
                'common-footer': CommonComponents.Footer
            },

            setup() {
                // 工具数据
                const tools = ref([]);

                // 搜索和筛选
                const searchKeyword = ref('');
                const selectedCategories = ref([]);

                // 分类颜色映射
                const categoryColors = {
                    '开发': '#249ffd',
                    '工具': '#10b981',
                    '设计': '#8b5cf6',
                    '搜索': '#f59e0b',
                    '网络': '#ef4444',
                    '其他': '#6b7280'
                };

                // 分类图标映射
                const categoryIcons = {
                    '开发': 'fas fa-code',
                    '工具': 'fas fa-wrench',
                    '设计': 'fas fa-palette',
                    '搜索': 'fas fa-search',
                    '网络': 'fas fa-network-wired',
                    '其他': 'fas fa-tools'
                };

                // 获取所有分类
                const categories = computed(() => {
                    const cats = new Set();
                    tools.value.forEach(tool => {
                        if (tool.category) cats.add(tool.category);
                    });
                    return Array.from(cats).sort();
                });

                // 过滤工具
                const filteredTools = computed(() => {
                    return tools.value.filter(tool => {
                        // 搜索关键词过滤
                        const keywordMatch = !searchKeyword.value ||
                            tool.name.toLowerCase().includes(searchKeyword.value.toLowerCase()) ||
                            tool.desc.toLowerCase().includes(searchKeyword.value.toLowerCase()) ||
                            tool.category.toLowerCase().includes(searchKeyword.value.toLowerCase());

                        // 分类过滤
                        const categoryMatch = selectedCategories.value.length === 0 ||
                            selectedCategories.value.includes(tool.category);

                        return keywordMatch && categoryMatch;
                    });
                });

                // 获取分类颜色
                const getCategoryColor = (category) => {
                    return categoryColors[category] || '#6b7280';
                };

                // 获取分类图标
                const getCategoryIcon = (category) => {
                    return categoryIcons[category] || 'fas fa-tools';
                };

                // 切换分类选择
                const toggleCategory = (category) => {
                    const index = selectedCategories.value.indexOf(category);
                    if (index === -1) {
                        selectedCategories.value.push(category);
                    } else {
                        selectedCategories.value.splice(index, 1);
                    }
                };


                // 加载工具数据
                const loadTools = () => {
                    tools.value = [
                        { id: 1, name: "Jrebel激活", href: "/jrebel", desc: "一键激活Jrebel开发工具", category: "开发" },
                        { id: 2, name: "网络剪贴板", href: "/clipboard", desc: "多设备之间同步文本的网络剪贴板", category: "工具" },
                        { id: 3, name: "磁力聚合搜索", href: "/torrent", desc: "支持多个磁力网站的磁力搜索", category: "搜索" },
                        { id: 4, name: "转发下载工具", href: "/forward", desc: "通过转发服务器下载文件", category: "工具" },
                        { id: 5, name: "Github项目搜索", href: "/github", desc: "搜索Github上的项目", category: "开发" }
                    ]
                };


                // 页面加载时初始化
                onMounted(() => {
                    loadTools();
                });

                // 组件卸载时清理
                onUnmounted(() => {
                    if (timeInterval) {
                        clearInterval(timeInterval);
                    }
                });

                return {
                    // 数据
                    tools,
                    searchKeyword,
                    selectedCategories,

                    // 计算属性
                    categories,
                    filteredTools,

                    // 方法
                    getCategoryColor,
                    getCategoryIcon,
                    toggleCategory
                };
            }
        });

        app.mount('#app');
    </script>
</body>

</html>